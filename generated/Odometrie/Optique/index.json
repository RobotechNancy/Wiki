{
    "hidden": "false",
    "title": "Capteur optique",
    "description": "Documentation sur le capteur optique",
    "order": "2",
    "uri": "Odometrie/Optique",
    "page_content": "<p>Un capteur optique est plac\u00e9 sous le robot\n<img alt=\"PMW3901\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/optic_sensor/PMW3901.webp\" />\nIl permet de mesurer le d\u00e9placement du robot par rapport au sol. Il s'agit d'une cam\u00e9ra \u00e0 basse r\u00e9solution et haute fr\u00e9quence qui compare des images successives du sol.</p>\n<h3>Utilisation</h3>\n<p>Pour fonctionner correctement, le capteur optique doit se situer \u00e0 minimum 9cm du sol, et avoir un \u00e9clairage adapt\u00e9.\nIl est pour cela accompagn\u00e9 d'un anneau de LEDs WS2812\n<img alt=\"WS2812\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/optic_sensor/LED.webp\" />\nce sont des LED commandables individuellement en 24 bits (1 octet par composante RGB).</p>\n<p>On envoie \u00e0 la suite les trames pour chaque LED selon le sch\u00e9ma suivant :</p>\n<p><img alt=\"Commande WS2812\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/optic_sensor/command.webp\" /></p>\n<h3>Configuration STM</h3>\n<p><code>Clock configuration</code> : 80MHz</p>\n<p><code>Pinout &amp; Configuration</code> :</p>\n<p><code>Timers</code> :  TIM1</p>\n<p>Choisir un channel, s\u00e9lectionner <code>internal clock</code> en <code>Clock source</code></p>\n<p><code>Parameter Settings</code> :</p>\n<ul>\n<li>Prescaler     0</li>\n<li>Counter Mode  Up</li>\n<li>Counter Period    95</li>\n<li>Internal Cloc...  No Division</li>\n<li>Repetition Co...  0</li>\n<li>auto-reload p...  Disable</li>\n</ul>\n<p><code>DMA Settings</code> :</p>\n<ul>\n<li>Direction :   Memory to Peripheral</li>\n<li>Priority :    Very High</li>\n</ul>\n<p><code>Increment Address</code> :</p>\n<ul>\n<li>Peripheral : \ud83d\uddc6</li>\n<li>Memory :   \u2611</li>\n</ul>\n<p><code>Data Width</code> :</p>\n<ul>\n<li>Peripheral : Word</li>\n<li>Memory :   Word</li>\n</ul>"
}