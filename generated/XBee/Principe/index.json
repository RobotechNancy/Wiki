{
    "hidden": "false",
    "title": "Principe",
    "description": "Principe de fonctionnement des modules XBee",
    "order": "1",
    "uri": "XBee/Principe",
    "page_content": "<p>Ces modules permettent une communication fiable et s\u00e9curis\u00e9e, m\u00eame dans un environnement bruyant\nLes modules XBee permettent la communication sans fil entre de multiples appareils.</p>\n<p>Ici, les modules utilis\u00e9s sont des <a href=\"https://www.digi.com/resources/documentation/digidocs/pdfs/90000982.pdf\">XBee S1 Pro</a> (aliment\u00e9s en 3.3V) :\n<img alt=\"XBee S1 Pro\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/XBee/S1_pro.webp\" /></p>\n<p>Les modules communiquent en <a href=\"https://fr.wikipedia.org/wiki/UART\">UART</a> avec leur microcontr\u00f4leur respectif et suivant le protocole <a href=\"https://fr.wikipedia.org/wiki/IEEE_802.15.4\">IEEE 802.15.4</a> (2.4GHz) entre eux :\n<img alt=\"XBee et Raspberry Pi\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/XBee/schema.webp\" /></p>\n<h3>Configuration</h3>\n<p>Les modules ne peuvent communiquer qu'avec d'autres modules du m\u00eame type et configur\u00e9s de la m\u00eame mani\u00e8re.\nDe plus, il n'y a que deux mani\u00e8res de communiquer : point \u00e0 point et point \u00e0 multipoint :\n<img alt=\"IEEE 802.15.4\" loading=\"lazy\" src=\"http://127.0.0.1:8000/static/images/XBee/protocol.webp\" /></p>\n<p>Pour configurer les adresses des modules, il faut envoyer des commandes AT :</p>\n<table tabindex='0'>\n<thead>\n<tr>\n<th>Commande</th>\n<th>Valeur</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ATMY</td>\n<td><code>0xXXXX</code></td>\n<td>Adresse du module</td>\n</tr>\n<tr>\n<td>ATDL</td>\n<td><code>0xFFFF</code></td>\n<td>\u00c0 qui envoyer les donn\u00e9es (partie basse)</td>\n</tr>\n<tr>\n<td>ATDH</td>\n<td><code>0x0000</code></td>\n<td>\u00c0 qui envoyer les donn\u00e9es (partie haute)</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>Il est possible d'utiliser <a href=\"https://www.digi.com/products/embedded-systems/digi-xbee/digi-xbee-tools/xctu\">XCTU</a> pour configurer les modules\net essayer d'envoyer des commandes.</p>\n</blockquote>\n<p>Avec le protocole <code>IEEE 802.15.4</code>, il n'est pas possible pour un module de communiquer avec plusieurs groupes diff\u00e9rents.\nPour contourner cette limitation, on configure les modules en broadcast (<code>0xFFFF</code> et <code>0x0000</code>) et on filtre les trames nous-m\u00eame.</p>\n<p>Pour \u00e9viter d'envoyer des trames \u00e0 n'importe quel module, on utilise quatres param\u00e8tres suppl\u00e9mentaires :</p>\n<table tabindex='0'>\n<thead>\n<tr>\n<th>Commande</th>\n<th>Valeur</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ATID</td>\n<td><code>0xXXXX</code></td>\n<td>Identifiant du r\u00e9seau</td>\n</tr>\n<tr>\n<td>ATCH</td>\n<td><code>0xXX</code></td>\n<td>Canal de communication</td>\n</tr>\n<tr>\n<td>ATEE</td>\n<td><code>0x1</code></td>\n<td>Chiffrement (activ\u00e9 )</td>\n</tr>\n<tr>\n<td>ATKY</td>\n<td><code>0xXXXX</code></td>\n<td>Cl\u00e9 de chiffrement</td>\n</tr>\n</tbody>\n</table>\n<h3>Initialisation</h3>\n<p>Pour configurer les modules, il faut d'abord entrer en mode AT en envoyant <code>+++</code>.\nUne fois <code>OK\\r</code> re\u00e7u, on envoie les commandes AT (<code>ATMY</code>, <code>ATDL</code>, ...) puis on quitte le mode AT en envoyant <code>ATCN\\r</code>.</p>\n<p>Une fois le module configur\u00e9, tout ce qui est envoy\u00e9 par UART est envoy\u00e9 tel quel \u00e0 n'importe quel module du m\u00eame r\u00e9seau.</p>"
}