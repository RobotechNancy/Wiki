<!DOCTYPE html>

<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Wiki Robotech Nancy - Principe</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Principe de fonctionnement du bus I2C">

		<link rel="stylesheet" href="http://127.0.0.1:8000/static/style.css">
		<link rel="apple-touch-icon" href="http://127.0.0.1:8000/static/images/icons/logo.webp">
		<link rel="icon" type="image/webp" href="http://127.0.0.1:8000/static/images/icons/logo.webp">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700&display=swap">
	</head>

	<body>
		<header>
			<h1>
				<a href="http://127.0.0.1:8000/">
					<img src="http://127.0.0.1:8000/static/images/icons/logo.webp" width="40" height="40" alt="Logo Robotech Nancy">
					<span>Wiki Robotech Nancy</span>
				</a>
				<button type="button" class="open-nav" aria-label="Ouvrir la navigation" onclick="document.body.classList.toggle('nav-open')"></button>
			</h1>

			<nav>
				<div>
					
    

    <a href="http://127.0.0.1:8000/Cartes/">Cartes utilisées</a>
    

    <a href="http://127.0.0.1:8000/Wiki/">Modifier ce wiki</a>
    

    <details>
        <summary>CMake</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/CMake/Installation/">Installer CMake</a>
    

    <a href="http://127.0.0.1:8000/CMake/Executable/">Créer un exécutable</a>
    

    <a href="http://127.0.0.1:8000/CMake/Lier/">Lier des librairies</a>
    

    <a href="http://127.0.0.1:8000/CMake/Librairie/">Créer une librairie</a>
    

        </div>
    </details>
    

    <details>
        <summary>STM32</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/STM32/Installation/">Installation</a>
    

    <a href="http://127.0.0.1:8000/STM32/Projet/">Créer un projet</a>
    

    <a href="http://127.0.0.1:8000/STM32/CubeMX/">Configurer une carte</a>
    

        </div>
    </details>
    

    <details>
        <summary>CAN</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/CAN/Principe/">Principe</a>
    

    <a href="http://127.0.0.1:8000/CAN/Raspberry/">Librairie Raspberry</a>
    

    <a href="http://127.0.0.1:8000/CAN/STM32/">Librairie STM32</a>
    

    <details>
        <summary>Implémentation</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/CAN/Implementation/Format/">Format des trames</a>
    

    <a href="http://127.0.0.1:8000/CAN/Implementation/Librairie/">Initialisation</a>
    

    <a href="http://127.0.0.1:8000/CAN/Implementation/Reception/">Réception de données</a>
    

    <a href="http://127.0.0.1:8000/CAN/Implementation/Envoi/">Envoi de données</a>
    

        </div>
    </details>
    

        </div>
    </details>
    

    <details>
        <summary>XBee</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/XBee/Principe/">Principe</a>
    

    <a href="http://127.0.0.1:8000/XBee/Librairie/">Utiliser la librairie</a>
    

    <details>
        <summary>Implémentation</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/XBee/Implementation/Format/">Format des trames</a>
    

    <a href="http://127.0.0.1:8000/XBee/Implementation/Initialisation/">Initialisation</a>
    

    <a href="http://127.0.0.1:8000/XBee/Implementation/Reception/">Réception de données</a>
    

    <a href="http://127.0.0.1:8000/XBee/Implementation/Envoi/">Envoi de données</a>
    

        </div>
    </details>
    

        </div>
    </details>
    

    <details>
        <summary>I2C</summary>
        <div>
            
    <a href="http://127.0.0.1:8000/I2C/Principe/">Principe</a>
    

        </div>
    </details>
    

				</div>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<h2>I2C/Principe</h2>
				<h3 class="no-anchor">Principe</h3>
			</div>
			<article class="content">
				<p>Un bus I2C est un moyen de communication, souvent utilisé pour connecter des composants (écrans, capteurs, ...) à une carte électronique.
C'est un bus avec une architecture maître-esclave mais il est possible d'avoir plusieurs maîtres et plusieurs esclaves sur le même bus :
<img alt="I2C" loading="lazy" src="http://127.0.0.1:8000/static/images/I2C/schema.webp" /></p>
<blockquote>
<p>Le choix du baudrate est plus limité que pour un bus CAN (100kHz, 400kHz ou 3,4MHz), le plus souvent 100kHz.</p>
</blockquote>
<h3>Lecture et écriture</h3>
<p>Une séquence de lecture ou d'écriture est composée de 3 parties : l'adresse (jusqu'à 128 nœuds), la demande (lecture ou écriture) et les données
(séparées par des ACK) :
<img alt="Séquence I2C" loading="lazy" src="http://127.0.0.1:8000/static/images/I2C/sequence.webp" /></p>
<p>Le premier octet de données correspond souvent au registre à lire ou écrire.
Plus généralement, les adresses, regitres et valeurs acceptées sont décrits dans la datasheet du composant.</p>
<h3>Conflits</h3>
<p>Il existe plusieurs types de conflits sur un bus I2C qu'il faut savoir prendre en compte.</p>
<p>Tout d'abord, les nœuds sont en collecteur ouvert : ils peuvent uniquement tirer la tension vers le bas.
On utilise donc des résistances de pull-up pour garantir la bonne tension au niveau haut :
<img alt="Pull-up" loading="lazy" src="http://127.0.0.1:8000/static/images/I2C/pull-up.webp" /></p>
<p>Ensuite, il est possible que plusieurs maîtres accèdent au bus en même temps.
Dans ce cas, chaque maître doit s'assurer que le bus est libre avant d'envoyer une séquence (condition d'arrêt depuis plus de 4,7µs).</p>
<p>Enfin, il est possible que des esclaves aient la même adresse par défaut.
Si c'est le cas, il faut les alimenter un par un pour changer leur adresse (voir la datasheet du composant).</p>
			</article>
		</section>

		<script src="http://127.0.0.1:8000/static/script.js"></script>
	</body>
</html>