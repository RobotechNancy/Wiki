{
    "hidden": "false",
    "title": "Cr\u00e9er un ex\u00e9cutable",
    "description": "Comment cr\u00e9er un ex\u00e9cutable avec CMake",
    "order": "2",
    "uri": "CMake/Executable",
    "page_content": "<p>Pour cr\u00e9er un ex\u00e9cutable avec CMake, il faut cr\u00e9er un fichier <code>CMakeLists.txt</code> \u00e0 la racine du projet. Ce fichier contient les instructions pour cr\u00e9er un ex\u00e9cutable \u00e0 partir des fichiers sources :</p>\n<div class=\"codehilite\"><pre tabindex='0'><span></span><code><span class=\"nb\">cmake_minimum_required</span><span class=\"p\">(</span><span class=\"s\">VERSION</span><span class=\"w\"> </span><span class=\"s\">3.x</span><span class=\"p\">)</span><span class=\"w\">       </span><span class=\"c\"># Version de cmake</span>\n<span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"s\">CMAKE_CXX_STANDARD</span><span class=\"w\"> </span><span class=\"s\">20</span><span class=\"p\">)</span><span class=\"w\">                </span><span class=\"c\"># Version de C++ (11, 14, 17, 20, 23)</span>\n<span class=\"nb\">project</span><span class=\"p\">(</span><span class=\"s\">my_project</span><span class=\"p\">)</span><span class=\"w\">                       </span><span class=\"c\"># Nom du projet</span>\n\n<span class=\"nb\">add_executable</span><span class=\"p\">(</span><span class=\"o\">${</span><span class=\"nv\">PROJECT_NAME</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"s\">main.cpp</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"c\"># Cr\u00e9er un ex\u00e9cutable du m\u00eame nom que le projet</span>\n</code></pre></div>\n\n<p>Pour compiler le projet, il faut cr\u00e9er un dossier o\u00f9 seront stock\u00e9s les fichiers de compilation :</p>\n<div class=\"codehilite\"><pre tabindex='0'><span></span><code>mkdir<span class=\"w\"> </span>build<span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"nb\">cd</span><span class=\"w\"> </span>build\n\ncmake<span class=\"w\"> </span>..<span class=\"w\">  </span><span class=\"c1\"># G\u00e9n\u00e8re les fichiers de compilation</span>\nmake<span class=\"w\">      </span><span class=\"c1\"># Compile le projet</span>\n\n<span class=\"c1\"># Une fois le projet compil\u00e9, on peut l&#39;ex\u00e9cuter</span>\n./my_project\n</code></pre></div>\n\n<blockquote>\n<p class=\"quote quote-WARNING\">Pour \u00e9viter les erreurs, il faut inclure <strong>tous</strong> les fichiers source dans <code>add_executable</code></p>\n</blockquote>\n<p>Optionnellement, pour les fichiers source, il est possible d'\u00e9viter les chemins relatifs pour inclure les headers :</p>\n<ul>\n<li>Dans le fichier <code>CMakeLists.txt</code> :</li>\n</ul>\n<div class=\"codehilite\"><pre tabindex='0'><span></span><code><span class=\"c\"># Avant add_executable</span>\n<span class=\"nb\">include_directories</span><span class=\"p\">(</span><span class=\"s\">dossier1</span><span class=\"w\"> </span><span class=\"s\">dossier2</span><span class=\"w\"> </span><span class=\"s\">...</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<ul>\n<li>Dans les fichiers source et headers :</li>\n</ul>\n<div class=\"codehilite\"><pre tabindex='0'><span></span><code><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;header.h&gt;</span><span class=\"c1\"> // au lieu de ../dossier1/header.h par exemple</span>\n</code></pre></div>"
}